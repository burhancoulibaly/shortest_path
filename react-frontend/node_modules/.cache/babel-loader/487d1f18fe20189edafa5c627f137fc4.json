{"ast":null,"code":"var _jsxFileName = \"/home/menekou/projects/react/shortest-path/react-frontend/src/Login Page/LoginPage.js\";\nimport React from 'react';\nimport AuthHelper from '../Auth Helpers/AuthHelper';\nimport { useQuery } from '@apollo/client';\nimport './LoginPage.css';\n\nfunction User(props) {\n  const {\n    data,\n    loading,\n    error\n  } = AuthHelper.login(props.username, props.pass);\n  if (error) return error;\n  return data.login;\n}\n\nfunction LoginForm(props) {\n  if (props.loginOption === \"login\") {\n    return /*#__PURE__*/React.createElement(\"form\", {\n      class: \"login\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 17,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 18,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      for: \"loginUsername\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 19,\n        columnNumber: 11\n      }\n    }, \"Username\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"username\",\n      class: \"form-control\",\n      id: \"loginUsername\",\n      \"aria-describedby\": \"usernameHelp\",\n      placeholder: \"Enter Username\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 20,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 22,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      for: \"loginPassword\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 23,\n        columnNumber: 11\n      }\n    }, \"Password\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"password\",\n      class: \"form-control\",\n      id: \"loginPassword\",\n      placeholder: \"Password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 24,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      class: \"btn btn-primary\",\n      onClick: $event => props.onClick($event),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 9\n      }\n    }, \"Submit\"));\n  }\n\n  if (props.loginOption === \"signup\") {\n    return /*#__PURE__*/React.createElement(\"form\", {\n      class: \"signup\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      for: \"signupUsername\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 11\n      }\n    }, \"Username\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"username\",\n      class: \"form-control\",\n      id: \"signupUsername\",\n      \"aria-describedby\": \"usernameHelp\",\n      placeholder: \"Enter Username\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      for: \"signupEmail\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 11\n      }\n    }, \"Email address\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"email\",\n      class: \"form-control\",\n      id: \"signupEmail\",\n      \"aria-describedby\": \"emailHelp\",\n      placeholder: \"Enter Email\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"small\", {\n      id: \"emailHelp\",\n      class: \"form-text text-muted\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 11\n      }\n    }, \"We'll never share your email with anyone else.\")), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      for: \"signupPassword1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 13\n      }\n    }, \"Password\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"password\",\n      class: \"form-control\",\n      id: \"signupPassword1\",\n      placeholder: \"Password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      for: \"signupPassword2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 13\n      }\n    }, \"Confirm Password\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"password\",\n      class: \"form-control\",\n      id: \"signupPassword2\",\n      placeholder: \"Confirm Password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 13\n      }\n    }))), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      class: \"btn btn-primary\",\n      onClick: $event => props.onClick($event),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }\n    }, \"Submit\"));\n  }\n\n  if (props.loginOption === \"guest\") {\n    return /*#__PURE__*/React.createElement(\"form\", {\n      class: \"guest\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      for: \"guestUsername\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 11\n      }\n    }, \"Username\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"username\",\n      class: \"form-control\",\n      id: \"guestUsername\",\n      \"aria-describedby\": \"usernameHelp\",\n      placeholder: \"Enter Username\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      class: \"btn btn-primary\",\n      onClick: $event => props.onClick($event),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }\n    }, \"Submit\"));\n  }\n}\n\nfunction Login(username, password) {\n  if (password === \"\") {\n    const {\n      data,\n      loading,\n      error\n    } = AuthHelper.login(username);\n    if (error) return `Error! ${error.message}`;\n    console.log(data);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 7\n      }\n    }, data.login.response_type, data.login.response, data.login.username, data.login.accessToken);\n  }\n\n  const query = AuthHelper.login(username, password);\n  const {\n    data,\n    loading,\n    error\n  } = useQuery(query);\n  if (error) return `Error! ${error.message}`;\n  console.log(data);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 5\n    }\n  }, data.login.response_type, data.login.response, data.login.username, data.login.accessToken);\n}\n\nclass LoginPage extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loginOption: \"login\",\n      user: null\n    };\n  }\n\n  renderForm() {\n    return /*#__PURE__*/React.createElement(LoginForm, {\n      loginOption: this.state.loginOption,\n      onClick: $event => this.onSubmit($event),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 7\n      }\n    });\n  }\n\n  login(username, password) {\n    return /*#__PURE__*/React.createElement(User, {\n      username: username,\n      password: password,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 7\n      }\n    });\n  }\n\n  onSubmit(e) {\n    console.log(e.target.form.elements);\n    this.setState({\n      user: this.authenticateUser(\"menz_couli\", \"worldwidmenz\")\n    });\n    return false;\n  }\n\n  selectLoginOption(e, loginOption) {\n    // see if this becomes a problem later\n    document.forms[0].reset();\n    let allLoginButtons = document.getElementsByClassName(\"login-options\")[0].childNodes;\n    allLoginButtons.forEach(button => {\n      button.classList.remove(\"active\");\n    });\n    e.target.closest(\"button\").classList.add(\"active\"); //React Re-renders when this.setState is called.\n\n    this.setState({\n      loginOption: loginOption\n    });\n    return false;\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      id: \"login-page\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"login-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 9\n      }\n    }, this.renderForm(), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"login-options\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      class: \"login-btn btn active\",\n      onClick: $event => this.selectLoginOption($event, `login`),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 15\n      }\n    }, \"Login\")), /*#__PURE__*/React.createElement(\"button\", {\n      class: \"signup-btn btn\",\n      onClick: $event => this.selectLoginOption($event, `signup`),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 15\n      }\n    }, \"Sign Up\")), /*#__PURE__*/React.createElement(\"button\", {\n      class: \"guest-btn btn\",\n      onClick: $event => this.selectLoginOption($event, `guest`),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 15\n      }\n    }, \"Guest\")))));\n  }\n\n}\n\nexport default LoginPage;","map":{"version":3,"sources":["/home/menekou/projects/react/shortest-path/react-frontend/src/Login Page/LoginPage.js"],"names":["React","AuthHelper","useQuery","User","props","data","loading","error","login","username","pass","LoginForm","loginOption","$event","onClick","Login","password","message","console","log","response_type","response","accessToken","query","LoginPage","Component","constructor","state","user","renderForm","onSubmit","e","target","form","elements","setState","authenticateUser","selectLoginOption","document","forms","reset","allLoginButtons","getElementsByClassName","childNodes","forEach","button","classList","remove","closest","add","render"],"mappings":"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","sourcesContent":["import React from 'react';\nimport AuthHelper from '../Auth Helpers/AuthHelper';\nimport { useQuery } from '@apollo/client';\nimport './LoginPage.css';\n\nfunction User(props){\n  const { data, loading, error } = AuthHelper.login(props.username, props.pass);\n\n  if (error) return error;\n\n  return data.login\n}\n\nfunction LoginForm(props) {\n  if(props.loginOption === \"login\"){\n    return (\n      <form class=\"login\">\n        <div class=\"form-group\">\n          <label for=\"loginUsername\">Username</label>\n          <input type=\"username\" class=\"form-control\" id=\"loginUsername\" aria-describedby=\"usernameHelp\" placeholder=\"Enter Username\"></input>\n        </div>\n        <div class=\"form-group\">\n          <label for=\"loginPassword\">Password</label>\n          <input type=\"password\" class=\"form-control\" id=\"loginPassword\" placeholder=\"Password\"></input>\n        </div>\n        <br></br>\n        <button type=\"button\" class=\"btn btn-primary\" onClick={($event) => props.onClick($event)}>Submit</button>\n      </form>\n    );\n  }\n\n  if(props.loginOption === \"signup\"){\n    return (\n      <form class=\"signup\">\n        <div class=\"form-group\">\n          <label for=\"signupUsername\">Username</label>\n          <input type=\"username\" class=\"form-control\" id=\"signupUsername\" aria-describedby=\"usernameHelp\" placeholder=\"Enter Username\"></input>\n        </div>\n        <div class=\"form-group\">\n          <label for=\"signupEmail\">Email address</label>\n          <input type=\"email\" class=\"form-control\" id=\"signupEmail\" aria-describedby=\"emailHelp\" placeholder=\"Enter Email\"></input>\n          <small id=\"emailHelp\" class=\"form-text text-muted\">We'll never share your email with anyone else.</small>\n        </div>\n        <div class=\"password\">\n          <div class=\"form-group\">\n            <label for=\"signupPassword1\">Password</label>\n            <input type=\"password\" class=\"form-control\" id=\"signupPassword1\" placeholder=\"Password\"></input>\n          </div>\n          <div class=\"form-group\">\n            <label for=\"signupPassword2\">Confirm Password</label>\n            <input type=\"password\" class=\"form-control\" id=\"signupPassword2\" placeholder=\"Confirm Password\"></input>\n          </div>\n        </div>\n        <button type=\"button\" class=\"btn btn-primary\" onClick={($event) => props.onClick($event)}>Submit</button>\n      </form>\n    );\n  }\n\n  if(props.loginOption === \"guest\"){\n    return (\n      <form class=\"guest\">\n        <div class=\"form-group\">\n          <label for=\"guestUsername\">Username</label>\n          <input type=\"username\" class=\"form-control\" id=\"guestUsername\" aria-describedby=\"usernameHelp\" placeholder=\"Enter Username\"></input>\n        </div>\n        <button type=\"button\" class=\"btn btn-primary\" onClick={($event) => props.onClick($event)}>Submit</button>\n      </form>\n    );\n  }\n}\n\nfunction Login(username, password){\n  if(password === \"\"){\n\n    const { data, loading, error } = AuthHelper.login(username);\n\n    if (error) return `Error! ${error.message}`;\n\n    console.log(data);\n    return (\n      <div>\n        {data.login.response_type}\n        {data.login.response}\n        {data.login.username}\n        {data.login.accessToken}\n      </div>\n    )\n  }\n\n  const query = AuthHelper.login(username, password);\n  const { data, loading, error } = useQuery(query);\n\n  if (error) return `Error! ${error.message}`;\n  \n  console.log(data);\n  return (\n    <div>\n      {data.login.response_type}\n      {data.login.response}\n      {data.login.username}\n      {data.login.accessToken}\n    </div>\n  )\n}\n\nclass LoginPage extends React.Component{\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      loginOption: \"login\",\n      user: null\n    }\n  }\n\n  renderForm(){\n    return (\n      <LoginForm \n        loginOption={this.state.loginOption}\n        onClick={($event) => this.onSubmit($event)}\n      />\n    );\n  }\n\n  login(username, password){\n    return (\n      <User \n        username={username}\n        password={password}\n      />\n    )\n  }\n\n  onSubmit(e){\n    console.log(e.target.form.elements);\n    \n    this.setState({\n      user: this.authenticateUser(\"menz_couli\",\"worldwidmenz\")\n    })\n    return false;\n  }\n  \n  selectLoginOption(e, loginOption){\n    // see if this becomes a problem later\n    document.forms[0].reset();\n\n    let allLoginButtons = document.getElementsByClassName(\"login-options\")[0].childNodes;\n    \n    allLoginButtons.forEach((button) => {\n      button.classList.remove(\"active\");\n    });\n\n    e.target.closest(\"button\").classList.add(\"active\");\n\n    //React Re-renders when this.setState is called.\n    this.setState({\n      loginOption: loginOption\n    })\n\n    return false;\n  }\n\n  render() {\n    return (\n      <div id=\"login-page\">\n        <div class=\"login-container\">\n\n          {/* Login form */}\n          {this.renderForm()}\n     \n          <div class=\"login-options\">\n            <button class=\"login-btn btn active\" onClick={($event) => this.selectLoginOption($event, `login`)}>\n              <h1>Login</h1>\n            </button>\n            <button class=\"signup-btn btn\" onClick={($event) => this.selectLoginOption($event, `signup`)}>\n              <h1>Sign Up</h1>\n            </button>\n            <button class=\"guest-btn btn\" onClick={($event) => this.selectLoginOption($event, `guest`)}>\n              <h1>Guest</h1>\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default LoginPage;"]},"metadata":{},"sourceType":"module"}