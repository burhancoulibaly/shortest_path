{"ast":null,"code":"var _jsxFileName = \"/home/menekou/projects/react/shortest-path/react-frontend/src/Sandbox/Sandbox.js\";\nimport React, { useState, useEffect, useMemo, useReducer } from 'react';\nimport './Sandbox.css';\nimport Map from '../Map/Map';\nimport Menu from '../Menu/Menu';\nimport MenuContext from '../MenuContext';\n\nfunction changeResettingState(menuState) {\n  return { ...menuState,\n    isResetting: !menuState.isResetting\n  };\n}\n\nfunction initializeMenu(menuState) {\n  if (!menuState.isResetting) {\n    return init(action.payload.init);\n  }\n}\n\nfunction init(initialState) {\n  return {\n    itemState: initialState.itemState,\n    clear: initialState.clear,\n    run: initialState.run,\n    heuristic: initialState.heuristic,\n    algorithm: initialState.algorithm,\n    pathClear: initialState.pathClear,\n    cutCorners: initialState.cutCorners,\n    allowDiags: initialState.allowDiags,\n    biDirectional: initialState.biDirectional\n  };\n}\n\nfunction reducer(menuState, action) {\n  switch (action.type) {\n    case 'setItemState':\n      return { ...menuState,\n        itemState: action.payload.itemState\n      };\n\n    case 'setHeuristic':\n      return { ...menuState,\n        heuristic: action.payload.heuristic\n      };\n\n    case 'setAlgorithm':\n      return { ...menuState,\n        algorithm: action.payload.algorithm\n      };\n\n    case 'clear':\n      return { ...menuState,\n        clear: true\n      };\n\n    case 'cleared':\n      return { ...menuState,\n        clear: false\n      };\n\n    case 'pathClear':\n      return { ...menuState,\n        pathClear: true\n      };\n\n    case 'pathCleared':\n      return { ...menuState,\n        pathClear: false\n      };\n\n    case 'run':\n      return { ...menuState,\n        run: true\n      };\n\n    case 'complete':\n      return { ...menuState,\n        run: false\n      };\n\n    case 'cutCorners':\n      return { ...menuState,\n        cutCorners: !menuState.cutCorners\n      };\n\n    case 'allowDiags':\n      return { ...menuState,\n        allowDiags: !menuState.allowDiags\n      };\n\n    case 'biDirectional':\n      return { ...menuState,\n        biDirectional: !menuState.biDirectional\n      };\n\n    case 'reset':\n      return changeResettingState(menuState), initializeMenu(menuState0);\n\n    default:\n      throw new Error(\"Not a valid action\");\n  }\n}\n\nfunction Sandbox() {\n  const [winDimensions, setWinDimensions] = useState({\n    width: document.documentElement.clientWidth,\n    height: document.documentElement.clientHeight\n  });\n  const initialState = {\n    itemState: \"start\",\n    heuristic: \"euclidean\",\n    algorithm: \"astar\",\n    clear: false,\n    pathClear: false,\n    run: false,\n    cutCorners: false,\n    allowDiags: true,\n    biDirectional: false,\n    isResetting: false\n  };\n  const [menuState, dispatch] = useReducer(reducer, initialState, init);\n  const menu = useMemo(() => ({\n    menuState,\n    dispatch\n  }), [menuState, dispatch]);\n  useEffect(() => {\n    const handleWinResize = () => {\n      setWinDimensions({\n        width: document.documentElement.clientWidth,\n        height: document.documentElement.clientHeight\n      });\n    };\n\n    window.addEventListener('resize', handleWinResize); // console.log(\"Window has been resized: \", winDimensions.width, winDimensions.height);\n\n    return () => {\n      window.removeEventListener('resize', handleWinResize);\n    };\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    id: \"sandbox\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(MenuContext.Provider, {\n    value: menu,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Map, {\n    winDimensions: winDimensions,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Menu, {\n    initialState: initialState,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 17\n    }\n  })));\n}\n\nexport default Sandbox;","map":{"version":3,"sources":["/home/menekou/projects/react/shortest-path/react-frontend/src/Sandbox/Sandbox.js"],"names":["React","useState","useEffect","useMemo","useReducer","Map","Menu","MenuContext","changeResettingState","menuState","isResetting","initializeMenu","init","action","payload","initialState","itemState","clear","run","heuristic","algorithm","pathClear","cutCorners","allowDiags","biDirectional","reducer","type","menuState0","Error","Sandbox","winDimensions","setWinDimensions","width","document","documentElement","clientWidth","height","clientHeight","dispatch","menu","handleWinResize","window","addEventListener","removeEventListener"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useMemo, useReducer } from 'react';\nimport './Sandbox.css';\nimport Map from '../Map/Map';\nimport Menu from '../Menu/Menu';\nimport MenuContext from '../MenuContext';\n\nfunction changeResettingState(menuState){\n    return {...menuState, isResetting: !menuState.isResetting}\n}\n\nfunction initializeMenu(menuState){\n    if(!menuState.isResetting){\n        return init(action.payload.init);\n    }\n}\n\nfunction init(initialState){\n    return {\n        itemState: initialState.itemState,\n        clear: initialState.clear,\n        run: initialState.run,\n        heuristic: initialState.heuristic,\n        algorithm: initialState.algorithm,\n        pathClear: initialState.pathClear,\n        cutCorners: initialState.cutCorners,\n        allowDiags: initialState.allowDiags,\n        biDirectional: initialState.biDirectional\n    }\n}\n\nfunction reducer(menuState, action){\n    switch (action.type) {\n        case 'setItemState':\n            return {...menuState, itemState: action.payload.itemState}\n        case 'setHeuristic':\n            return {...menuState, heuristic: action.payload.heuristic}\n        case 'setAlgorithm':\n            return {...menuState, algorithm: action.payload.algorithm}   \n        case 'clear':\n            return {...menuState, clear: true};\n        case 'cleared':\n            return {...menuState, clear: false};\n        case 'pathClear':\n            return {...menuState, pathClear: true};\n        case 'pathCleared':\n            return {...menuState, pathClear: false};\n        case 'run':\n            return {...menuState, run: true};\n        case 'complete':\n            return {...menuState, run: false};\n        case 'cutCorners':\n            return {...menuState, cutCorners: !menuState.cutCorners};\n        case 'allowDiags':\n            return {...menuState, allowDiags: !menuState.allowDiags};\n        case 'biDirectional':\n            return {...menuState, biDirectional: !menuState.biDirectional};\n        case 'reset':\n            return (\n                changeResettingState(menuState),\n                initializeMenu(menuState0)\n            )\n        default:\n            throw new Error(\"Not a valid action\");\n    }\n}\n\nfunction Sandbox() {\n    const [winDimensions, setWinDimensions] = useState({ width: document.documentElement.clientWidth, height: document.documentElement.clientHeight });\n\n    const initialState = {\n        itemState: \"start\",\n        heuristic: \"euclidean\",\n        algorithm: \"astar\",\n        clear: false,\n        pathClear: false,\n        run: false,\n        cutCorners: false,\n        allowDiags: true,\n        biDirectional: false,\n        isResetting: false\n    }\n\n    const [menuState, dispatch] = useReducer(reducer, initialState, init)\n\n    const menu = useMemo(() => ({menuState, dispatch}), [menuState, dispatch]);\n\n    useEffect(() => {\n        const handleWinResize = () => {\n            setWinDimensions({\n                width: document.documentElement.clientWidth,\n                height: document.documentElement.clientHeight\n            })\n        }\n\n        window.addEventListener('resize', handleWinResize);\n\n        // console.log(\"Window has been resized: \", winDimensions.width, winDimensions.height);\n\n        return () => {\n            window.removeEventListener('resize', handleWinResize);\n        };\n    })\n\n    return (\n        <div id=\"sandbox\">\n            <MenuContext.Provider value={menu}>\n                <Map \n                    winDimensions={winDimensions}\n                />\n                <Menu \n                    initialState={initialState}\n                />\n            </MenuContext.Provider>\n        </div>\n    );\n}\n\nexport default Sandbox;"]},"metadata":{},"sourceType":"module"}