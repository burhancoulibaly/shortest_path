{"ast":null,"code":"var _jsxFileName = \"/home/menekou/projects/react/shortest-path/react-frontend/src/Account/Account.js\";\nimport React, { useEffect, useContext, useState } from 'react';\nimport './Account.css';\nimport UserContext from \"../UserContext\";\nimport { useQuery } from '@apollo/client';\nimport MapHelper from '../Helpers/MapHelper';\nimport { Link } from 'react-router-dom';\n\nfunction Account() {\n  const {\n    user\n  } = useContext(UserContext);\n  const {\n    error,\n    data\n  } = useQuery(MapHelper.getUsersMaps, {\n    variables: {\n      username: user.username\n    }\n  }); //{ fetchPolicy: \"network-only\" }\n\n  const [maps, setMaps] = useState();\n  useEffect(() => {\n    if (error) {\n      console.log(error);\n    }\n\n    if (data) {\n      console.log(data.getUsersMaps);\n      const mapsData = Array.from(data.getUsersMaps);\n      setMaps(maps => {\n        return mapsData;\n      });\n    }\n  }, [user, mapsError, mapsData]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    id: \"account\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 5\n    }\n  }, user && /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 9\n    }\n  }, user.username), maps && maps.map((map, index) => {\n    return /*#__PURE__*/React.createElement(Link, {\n      key: index,\n      to: {\n        pathname: \"/sandbox\",\n        state: {\n          userMap: map.map\n        }\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 19\n      }\n    }, map.name)));\n  }));\n}\n\nexport default Account;","map":{"version":3,"sources":["/home/menekou/projects/react/shortest-path/react-frontend/src/Account/Account.js"],"names":["React","useEffect","useContext","useState","UserContext","useQuery","MapHelper","Link","Account","user","error","data","getUsersMaps","variables","username","maps","setMaps","console","log","mapsData","Array","from","mapsError","map","index","pathname","state","userMap","name"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,UAA3B,EAAuCC,QAAvC,QAAuD,OAAvD;AACA,OAAO,eAAP;AACA,OAAOC,WAAP,MAAwB,gBAAxB;AACA,SAASC,QAAT,QAAyB,gBAAzB;AACA,OAAOC,SAAP,MAAsB,sBAAtB;AACA,SAASC,IAAT,QAAqB,kBAArB;;AAEA,SAASC,OAAT,GAAmB;AACjB,QAAM;AAACC,IAAAA;AAAD,MAASP,UAAU,CAACE,WAAD,CAAzB;AACA,QAAM;AAAEM,IAAAA,KAAF;AAASC,IAAAA;AAAT,MAAiBN,QAAQ,CAACC,SAAS,CAACM,YAAX,EAAyB;AACtDC,IAAAA,SAAS,EAAE;AACTC,MAAAA,QAAQ,EAAEL,IAAI,CAACK;AADN;AAD2C,GAAzB,CAA/B,CAFiB,CAMb;;AACJ,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBb,QAAQ,EAAhC;AAEAF,EAAAA,SAAS,CAAC,MAAM;AACd,QAAGS,KAAH,EAAS;AACPO,MAAAA,OAAO,CAACC,GAAR,CAAYR,KAAZ;AACD;;AAED,QAAGC,IAAH,EAAQ;AACNM,MAAAA,OAAO,CAACC,GAAR,CAAYP,IAAI,CAACC,YAAjB;AAEA,YAAMO,QAAQ,GAAGC,KAAK,CAACC,IAAN,CAAWV,IAAI,CAACC,YAAhB,CAAjB;AAEAI,MAAAA,OAAO,CAAED,IAAD,IAAU;AAChB,eAAOI,QAAP;AACD,OAFM,CAAP;AAGD;AACF,GAdQ,EAcN,CAACV,IAAD,EAAOa,SAAP,EAAkBH,QAAlB,CAdM,CAAT;AAgBA,sBACE;AAAK,IAAA,EAAE,EAAC,SAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGV,IAAI,iBACH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKA,IAAI,CAACK,QAAV,CAFJ,EAKGC,IAAI,IACHA,IAAI,CAACQ,GAAL,CAAS,CAACA,GAAD,EAAMC,KAAN,KAAgB;AACvB,wBACE,oBAAC,IAAD;AAAM,MAAA,GAAG,EAAEA,KAAX;AAAkB,MAAA,EAAE,EAAE;AAACC,QAAAA,QAAQ,EAAE,UAAX;AAAuBC,QAAAA,KAAK,EAAE;AAAEC,UAAAA,OAAO,EAAEJ,GAAG,CAACA;AAAf;AAA9B,OAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAKA,GAAG,CAACK,IAAT,CADJ,CADF,CADF;AAOD,GARD,CANJ,CADF;AAmBD;;AAED,eAAepB,OAAf","sourcesContent":["import React, { useEffect, useContext, useState } from 'react';\nimport './Account.css';\nimport UserContext from \"../UserContext\";\nimport { useQuery } from '@apollo/client';\nimport MapHelper from '../Helpers/MapHelper';\nimport { Link } from 'react-router-dom';\n\nfunction Account() {\n  const {user} = useContext(UserContext);\n  const { error, data} = useQuery(MapHelper.getUsersMaps, {\n    variables: {\n      username: user.username\n    }\n  }); //{ fetchPolicy: \"network-only\" }\n  const [maps, setMaps] = useState(); \n\n  useEffect(() => {\n    if(error){\n      console.log(error);\n    }\n\n    if(data){\n      console.log(data.getUsersMaps);\n\n      const mapsData = Array.from(data.getUsersMaps);\n\n      setMaps((maps) => {\n        return mapsData;\n      })\n    }\n  }, [user, mapsError, mapsData]);\n\n  return (\n    <div id=\"account\">\n      {user &&\n        <h1>{user.username}</h1>\n      }\n\n      {maps && \n        maps.map((map, index) => {\n          return (\n            <Link key={index} to={{pathname: \"/sandbox\", state: { userMap: map.map }}}>\n              <div>\n                  <h3>{map.name}</h3>\n              </div>\n            </Link>\n          )\n        })\n      }\n    </div>\n  );\n}\n\nexport default Account;"]},"metadata":{},"sourceType":"module"}