{"ast":null,"code":"import { ApolloClient, InMemoryCache, ApolloLink, HttpLink } from '@apollo/client';\nconst httpLink = new HttpLink({\n  uri: 'http://localhost:3000/graphql'\n});\nconsole.log(localStorage.getItem('user'));\nconst user = localStorage.getItem('user');\nconst accessToken = user !== null ? JSON.parse(user).accessToken : null;\nconst authLink = new ApolloLink((operation, forward) => {\n  // Use the setContext method to set the HTTP headers.\n  operation.setContext({\n    headers: {\n      authorization: accessToken ? `Bearer ${accessToken}` : \"\"\n    }\n  }); // Call the next link in the middleware chain.\n\n  return forward(operation);\n});\nexport default new ApolloClient({\n  link: authLink.concat(httpLink),\n  cache: new InMemoryCache({\n    addTypename: false\n  }),\n  credentials: 'include'\n});","map":{"version":3,"sources":["/home/menekou/projects/react/shortest-path/react-frontend/src/ApolloConfig.js"],"names":["ApolloClient","InMemoryCache","ApolloLink","HttpLink","httpLink","uri","console","log","localStorage","getItem","user","accessToken","JSON","parse","authLink","operation","forward","setContext","headers","authorization","link","concat","cache","addTypename","credentials"],"mappings":"AAAA,SAASA,YAAT,EAAuBC,aAAvB,EAAsCC,UAAtC,EAAkDC,QAAlD,QAAkE,gBAAlE;AAEA,MAAMC,QAAQ,GAAG,IAAID,QAAJ,CAAa;AAAEE,EAAAA,GAAG,EAAE;AAAP,CAAb,CAAjB;AAEAC,OAAO,CAACC,GAAR,CAAYC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAZ;AAEA,MAAMC,IAAI,GAAGF,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAb;AACA,MAAME,WAAW,GAAGD,IAAI,KAAK,IAAT,GAAgBE,IAAI,CAACC,KAAL,CAAWH,IAAX,EAAiBC,WAAjC,GAA+C,IAAnE;AAEA,MAAMG,QAAQ,GAAG,IAAIZ,UAAJ,CAAe,CAACa,SAAD,EAAYC,OAAZ,KAAwB;AACpD;AACAD,EAAAA,SAAS,CAACE,UAAV,CAAqB;AACnBC,IAAAA,OAAO,EAAE;AACPC,MAAAA,aAAa,EAAER,WAAW,GAAI,UAASA,WAAY,EAAzB,GAA6B;AADhD;AADU,GAArB,EAFoD,CAQpD;;AACA,SAAOK,OAAO,CAACD,SAAD,CAAd;AACH,CAVgB,CAAjB;AAYA,eAAe,IAAIf,YAAJ,CAAiB;AAC5BoB,EAAAA,IAAI,EAAEN,QAAQ,CAACO,MAAT,CAAgBjB,QAAhB,CADsB;AAE5BkB,EAAAA,KAAK,EAAE,IAAIrB,aAAJ,CAAkB;AACrBsB,IAAAA,WAAW,EAAE;AADQ,GAAlB,CAFqB;AAK5BC,EAAAA,WAAW,EAAE;AALe,CAAjB,CAAf","sourcesContent":["import { ApolloClient, InMemoryCache, ApolloLink, HttpLink } from '@apollo/client';\n\nconst httpLink = new HttpLink({ uri: 'http://localhost:3000/graphql' });\n\nconsole.log(localStorage.getItem('user'))\n\nconst user = localStorage.getItem('user');\nconst accessToken = user !== null ? JSON.parse(user).accessToken : null;\n\nconst authLink = new ApolloLink((operation, forward) => {\n    // Use the setContext method to set the HTTP headers.\n    operation.setContext({\n      headers: {\n        authorization: accessToken ? `Bearer ${accessToken}` : \"\"\n      }\n    });\n  \n    // Call the next link in the middleware chain.\n    return forward(operation);\n});\n\nexport default new ApolloClient({\n    link: authLink.concat(httpLink),\n    cache: new InMemoryCache({\n        addTypename: false\n    }),\n    credentials: 'include'\n});"]},"metadata":{},"sourceType":"module"}