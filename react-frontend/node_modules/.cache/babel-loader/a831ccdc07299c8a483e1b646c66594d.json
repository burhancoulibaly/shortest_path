{"ast":null,"code":"var _jsxFileName = \"/home/menekou/projects/react/shortest-path/react-frontend/src/Login Page/LoginPage.js\";\nimport React, { useState, memo } from 'react';\nimport './LoginPage.css';\nimport AuthHelper from '../Auth Helpers/AuthHelper';\nimport { useLazyQuery, useMutation } from '@apollo/client';\nimport { Redirect } from 'react-router-dom';\n\nconst LoginForm = props => {\n  const [loginState, setLoginState] = useState(\"\");\n  const [login, {\n    loading: loginLoading,\n    error: loginError,\n    data: loginData\n  }] = useLazyQuery(AuthHelper.login);\n  const [signup, {\n    loading: signupLoading,\n    error: signupError,\n    data: signupData\n  }] = useMutation(AuthHelper.signup);\n\n  if (signupError) {\n    console.log(signupError);\n    setLoginState(\"system-error\");\n  }\n\n  ;\n\n  if (signupLoading) {\n    console.log(\"...loading\");\n    setLoginState(\"loading\");\n  }\n\n  if (signupData) {\n    if (!signupData.register.response_type.includes(\"Error\")) {\n      console.log(signupData.register);\n      return /*#__PURE__*/React.createElement(Redirect, {\n        to: \"/\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 28,\n          columnNumber: 14\n        }\n      });\n    }\n\n    ;\n    console.log(signupData.register);\n  }\n\n  ;\n\n  if (loginError) {\n    console.log(loginError);\n    setLoginState(\"system-error\");\n  }\n\n  ;\n\n  if (loginLoading) {\n    console.log(\"...loading\");\n    setLoginState(\"loading\");\n  }\n\n  if (loginData) {\n    if (!loginData.login.response_type.includes(\"Error\")) {\n      console.log(loginData.login);\n      return /*#__PURE__*/React.createElement(Redirect, {\n        to: \"/\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 14\n        }\n      });\n    }\n\n    ;\n    console.log(loginData.login);\n    setLoginState(\"invalid-login\");\n  }\n\n  ;\n  return /*#__PURE__*/React.createElement(Form, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 10\n    }\n  });\n};\n\nfunction LoginPage() {\n  //Login tab state variable\n  const [loginTab, setLoginTab] = useState(\"login\");\n\n  const renderForm = () => {\n    return /*#__PURE__*/React.createElement(LoginForm, {\n      loginTab: loginTab,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 7\n      }\n    });\n  };\n\n  const changeLoginTab = (e, loginOption) => {\n    // see if this becomes a problem later\n    document.forms[0].reset();\n    let allLoginButtons = document.getElementsByClassName(\"login-options\")[0].childNodes;\n    allLoginButtons.forEach(button => {\n      button.classList.remove(\"active\");\n    });\n    e.target.closest(\"button\").classList.add(\"active\");\n    return loginOption;\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    id: \"login-page\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"login-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }\n  }, renderForm(), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"login-options\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"login-btn btn active\",\n    onClick: $event => setLoginTab(changeLoginTab($event, `login`)),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 13\n    }\n  }, \"Login\")), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"signup-btn btn\",\n    onClick: $event => setLoginTab(changeLoginTab($event, `signup`)),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 13\n    }\n  }, \"Sign Up\")), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"guest-btn btn\",\n    onClick: $event => setLoginTab(changeLoginTab($event, `guest`)),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 13\n    }\n  }, \"Guest\")))));\n}\n\nexport default LoginPage;","map":{"version":3,"sources":["/home/menekou/projects/react/shortest-path/react-frontend/src/Login Page/LoginPage.js"],"names":["React","useState","memo","AuthHelper","useLazyQuery","useMutation","Redirect","LoginForm","props","loginState","setLoginState","login","loading","loginLoading","error","loginError","data","loginData","signup","signupLoading","signupError","signupData","console","log","register","response_type","includes","LoginPage","loginTab","setLoginTab","renderForm","changeLoginTab","e","loginOption","document","forms","reset","allLoginButtons","getElementsByClassName","childNodes","forEach","button","classList","remove","target","closest","add","$event"],"mappings":"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","sourcesContent":["import React, { useState, memo } from 'react';\nimport './LoginPage.css';\nimport AuthHelper from '../Auth Helpers/AuthHelper';\nimport { useLazyQuery, useMutation } from '@apollo/client';\nimport { Redirect } from 'react-router-dom'\n\nconst LoginForm = (props) => {\n  const [loginState, setLoginState] = useState(\"\");\n  const [login, { loading: loginLoading, error: loginError, data: loginData }] = useLazyQuery(AuthHelper.login);\n  const [signup, { loading: signupLoading, error: signupError, data: signupData }] = useMutation(AuthHelper.signup);\n\n  if(signupError){\n    console.log(signupError);\n\n    setLoginState(\"system-error\");\n  };\n\n  if(signupLoading){\n    console.log(\"...loading\");\n\n    setLoginState(\"loading\");\n  }\n\n  if(signupData){\n    if(!signupData.register.response_type.includes(\"Error\")){\n      console.log(signupData.register);\n      \n      return <Redirect to='/' />\n    };\n\n    console.log(signupData.register);\n  };\n\n  if(loginError){\n    console.log(loginError);\n\n    setLoginState(\"system-error\");\n  };\n\n  if(loginLoading){\n    console.log(\"...loading\");\n\n    setLoginState(\"loading\");\n  }\n\n  if(loginData){\n    if(!loginData.login.response_type.includes(\"Error\")){\n      console.log(loginData.login);\n      \n      return <Redirect to='/' />\n    };\n\n    console.log(loginData.login);\n\n    setLoginState(\"invalid-login\")\n  };\n  \n  return <Form />;\n}\n\nfunction LoginPage() {\n  //Login tab state variable\n  const [loginTab, setLoginTab] = useState(\"login\");\n\n  const renderForm = () => {\n    return (\n      <LoginForm \n        loginTab={loginTab}\n      />\n    )\n  }\n\n  const changeLoginTab = (e, loginOption) => {\n    // see if this becomes a problem later\n    document.forms[0].reset();\n\n    let allLoginButtons = document.getElementsByClassName(\"login-options\")[0].childNodes;\n    \n    allLoginButtons.forEach((button) => {\n      button.classList.remove(\"active\");\n    });\n\n    e.target.closest(\"button\").classList.add(\"active\");\n\n    return loginOption;\n  }\n\n  return (\n    <div id=\"login-page\">\n      <div className=\"login-container\">\n\n        {/* Login form */}\n        {renderForm()}\n   \n        <div className=\"login-options\">\n          <button className=\"login-btn btn active\" onClick={($event) => setLoginTab(changeLoginTab($event, `login`))}>\n            <h1>Login</h1>\n          </button>\n          <button className=\"signup-btn btn\" onClick={($event) => setLoginTab(changeLoginTab($event, `signup`))}>\n            <h1>Sign Up</h1>\n          </button>\n          <button className=\"guest-btn btn\" onClick={($event) => setLoginTab(changeLoginTab($event, `guest`))}>\n            <h1>Guest</h1>\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default LoginPage;"]},"metadata":{},"sourceType":"module"}